<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDE Online â€“ HTML CSS JS</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/theme/monokai.min.css">
<style>
body {
    margin: 0;
    font-family: 'Courier New', monospace;
    background-color: #212121;
}

#typing-container {
    text-align: center;
    margin: 10px 0;
    color: white;
    font-weight: bold;
    font-size: 1.5rem;
}

#cursor {
    display: inline-block;
    width: 3px;
    height: 1.2em;
    background: white;
    vertical-align: middle;
    animation: blink 0.7s steps(1) infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

#ide-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    transition: filter 0.3s ease;
}

.main-container {
    display: flex;
    flex: 1;
    overflow: hidden;
}

.editor-container {
    width: 50%;
    display: flex;
    flex-direction: column;
    padding: 5px;
    box-sizing: border-box;
    position: relative;
}

.tabs {
    display: flex;
    background: #111;
    border-bottom: 2px solid #333;
    z-index: 2;
}

.tab {
    flex: 1;
    text-align: center;
    padding: 10px;
    color: #bbb;
    cursor: pointer;
    user-select: none;
    font-weight: bold;
    transition: background 0.2s, color 0.2s;
}

.tab.active {
    background: #333;
    color: #fff;
    border-bottom: 2px solid #00BCD4;
}

.editor {
    position: absolute;
    top: 40px;
    left: 0;
    width: 100%;
    height: calc(100% - 40px);
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
}

.editor.active {
    opacity: 1;
    visibility: visible;
}

.CodeMirror {
    height: 100%;
    font-size: 14px;
}

.CodeMirror-scroll {
    overflow: auto !important;
    scrollbar-width: thin;
    scrollbar-color: #75715E #2d2d2d;
}

.CodeMirror-scroll::-webkit-scrollbar {
    width: 8px;
}

.CodeMirror-scroll::-webkit-scrollbar-track {
    background: #2d2d2d;
}

.CodeMirror-scroll::-webkit-scrollbar-thumb {
    background-color: #75715E;
    border-radius: 4px;
}

.CodeMirror-scroll::-webkit-scrollbar-thumb:hover {
    background-color: #a59f85;
}

.preview-container {
    width: 50%;
    display: flex;
    flex-direction: column;
    padding: 5px;
    box-sizing: border-box;
}

.preview-container span.title {
    color: white;
    font-weight: bolder;
    font-size: x-large;
    margin-bottom: 5px;
}

iframe {
    flex: 1;
    border: none;
    background: white;
}

#preview-btn {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    font-family: 'Courier New', monospace;
    background: #212121;
    color: white;
    border: 1px solid white;
    padding: 10px 15px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition-duration: 0.3s;
    z-index: 10;
}
#preview-btn:focus{
    background-color: white;
    color: #212121;
    letter-spacing: 1.5px;
    transform: scale(1.1);



}

#preview-btn:hover{
    background-color: white;
    color: #212121;
    letter-spacing: 1.5px;
    transform: scale(1.1);



}
#preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(0);
    background: rgba(0,0,0,0.3);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease, backdrop-filter 0.3s ease;
    z-index: 19;
}

#preview-overlay.show {
    opacity: 1;
    pointer-events: all;
    backdrop-filter: blur(5px);
}

#preview-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    width: 80%;
    height: 80%;
    z-index: 20;
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

#preview-modal.show {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
}

#preview-modal iframe {
    width: 100%;
    height: 100%;
    border-radius: 10px;
    background: white;
}

#preview-modal span.close {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 2rem;
    color: white;
    cursor: pointer;
}

@media (max-width: 720px) {
    .main-container {
        flex-direction: column;
    }

    .editor-container {
        width: 100%;
        flex: 1;
        min-height: 0;
    }

    .preview-container {
        display: none;
    }

    #preview-btn {
        display: block;
    }
}
</style>
</head>
<body>

<div id="typing-container">
  IDE online: <span id="word"></span><span id="cursor"></span>
</div>

<div id="ide-container">
<div class="main-container">
  <div class="editor-container">
    <div class="tabs">
      <div class="tab active" data-editor="html">HTML</div>
      <div class="tab" data-editor="css">CSS</div>
      <div class="tab" data-editor="js">JS</div>
    </div>
    <div id="htmlEditor" class="editor active"></div>
    <div id="cssEditor" class="editor"></div>
    <div id="jsEditor" class="editor"></div>
  </div>

  <div class="preview-container">
    <span class="title">Preview</span>
    <iframe id="preview"></iframe>
  </div>
</div>
</div>

<button id="preview-btn">Mostrar Preview</button>
<div id="preview-overlay"></div>
<div id="preview-modal">
    <span class="close">&times;</span>
    <iframe id="preview-modal-iframe"></iframe>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.8/addon/edit/matchbrackets.min.js"></script>

<script>
const htmlEditor = CodeMirror(document.getElementById("htmlEditor"), {
    value: "<h1>Hello World!</h1>",
    mode: "htmlmixed",
    theme: "monokai",
    lineNumbers: true,
    matchBrackets: true,
    viewportMargin: Infinity
});
const cssEditor = CodeMirror(document.getElementById("cssEditor"), {
    value: "h1 { color: black; }",
    mode: "css",
    theme: "monokai",
    lineNumbers: true,
    matchBrackets: true,
    viewportMargin: Infinity
});
const jsEditor = CodeMirror(document.getElementById("jsEditor"), {
    value: "console.log('Hello World!');",
    mode: "javascript",
    theme: "monokai",
    lineNumbers: true,
    matchBrackets: true,
    viewportMargin: Infinity
});

const preview = document.getElementById("preview");
function updatePreview() {
    const html = htmlEditor.getValue();
    const css  = "<style>" + cssEditor.getValue() + "</style>";
    const js   = "<script>" + jsEditor.getValue() + "<\/script>";
    preview.srcdoc = html + css + js;
}
htmlEditor.on("change", updatePreview);
cssEditor.on("change", updatePreview);
jsEditor.on("change", updatePreview);
updatePreview();

const tabs = document.querySelectorAll(".tab");
const editors = { html: htmlEditor, css: cssEditor, js: jsEditor };
tabs.forEach(tab => {
    tab.addEventListener("click", () => {
        document.querySelector(".tab.active").classList.remove("active");
        tab.classList.add("active");
        document.querySelector(".editor.active").classList.remove("active");
        document.getElementById(tab.dataset.editor + "Editor").classList.add("active");
        setTimeout(() => editors[tab.dataset.editor].refresh(), 50);
    });
});

const words = [
    { text: "HTML", color: "#FF6700" },
    { text: "CSS", color: "#2196F3" },
    { text: "JS", color: "#FFFF00" }
];
const wordElement = document.getElementById("word");
let currentWord = 0;
let currentChar = 0;
let typing = true;
function type() {
    const wordObj = words[currentWord];
    const word = wordObj.text;
    wordElement.style.color = wordObj.color;
    if (typing) {
        wordElement.textContent += word[currentChar];
        currentChar++;
        if (currentChar === word.length) { typing = false; setTimeout(type, 1000); }
        else setTimeout(type, 200);
    } else {
        wordElement.textContent = wordElement.textContent.slice(0, -1);
        currentChar--;
        if (currentChar === 0) { typing = true; currentWord = (currentWord + 1) % words.length; setTimeout(type, 500); }
        else setTimeout(type, 100);
    }
}
type();

const previewBtn = document.getElementById("preview-btn");
const previewModal = document.getElementById("preview-modal");
const previewModalIframe = document.getElementById("preview-modal-iframe");
const previewOverlay = document.getElementById("preview-overlay");
const closeModal = previewModal.querySelector(".close");

previewBtn.addEventListener("click", () => {
    previewOverlay.classList.add("show");
    previewModal.classList.add("show");
    previewModalIframe.srcdoc = preview.srcdoc;
});

function closePreview() {
    previewModal.classList.remove("show");
    previewOverlay.classList.remove("show");
}

closeModal.addEventListener("click", closePreview);
previewOverlay.addEventListener("click", closePreview);
</script>

</body>
</html>
